<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Oppgave 2</title>
</head>
<body>

    <div>
        <h3>Legg til filmer</h3>

        <!-- Dette blir inputfelt for filmens tittel -->
        <label for="movie-title">Film tittel:</label>
        <input type="text" id="movie-title" placeholder="Skriv inn filmens tittel">
        <!-- Brukeren kan skrive inn kategori her -->
        <label for="movie-category">Kategori:</label>
        <input type="text" id="movie-category" placeholder="Skriv inn filmens kategori">
        <br>
        <!-- Inputfelt for utgivelsesåret til filmen -->
        <label for="movie-year">År:</label>
        <input type="text" id="movie-year" placeholder="Skriv inn utgivelsesåret">
        <br>
      
        
       
        <button id="add-movie-btn">Legg til film i array</button>
        <button id="show-movies-btn">Vis alle filmer</button>
        <div id="error-message" style="color: red; margin-top: 10px;"></div>
        <div id="movies-list" style="margin-top: 20px;"></div>
    </div>

    <script> 
    // Array to store movie objects
    const movies = [];

    // Function to add a movie
    function addMovie() {
        const titleInput = document.getElementById('movie-title');
        const yearInput = document.getElementById('movie-year');
        const categoryInput = document.getElementById('movie-category');
        const errorMessage = document.getElementById('error-message');

        const title = titleInput.value.trim();
        const year = yearInput.value.trim();
        const category = categoryInput.value.trim();

        // Input validation
        if (!title || !year || !category) {
            errorMessage.textContent = "Vennligst fyll ut tittel, år og kategori! (DENNE FEIL MELDINGEN TILBAKESTILLES OM 3 SEKUNDER)";
            
            // Clear the error message after 3 seconds
            setTimeout(() => {
                errorMessage.textContent = '';
            }, 3000); // 3000 milliseconds = 3 seconds
            
            return;
        }

        // Clear error message
        errorMessage.textContent = '';

        // Add movie to array
        movies.push({ title, year, category });

        // Clear inputs
        titleInput.value = '';
        yearInput.value = '';
        categoryInput.value = '';
    }

    // Function to display all movies
    function displayMovies() {
        const moviesList = document.getElementById('movies-list');
        moviesList.innerHTML = ''; // Clear previous list

        if (movies.length === 0) {
            moviesList.textContent = "Ingen filmer lagt til.";
            return;
        }

        const ul = document.createElement('ul');
        movies.forEach(movie => {
            const li = document.createElement('li');
            li.textContent = `Tittel: ${movie.title}, År: ${movie.year}, Kategori: ${movie.category}`;
            ul.appendChild(li);
        });

        moviesList.appendChild(ul);
    }

    // Attach event listeners to buttons
    document.getElementById('add-movie-btn').addEventListener('click', addMovie);
    document.getElementById('show-movies-btn').addEventListener('click', displayMovies);

    // Extra functionality: Sort movies by year
    const sortButton = document.createElement('button');
    sortButton.textContent = 'Sorter filmer etter årstall';
    sortButton.style.marginTop = '10px';
    document.body.appendChild(sortButton);

    sortButton.addEventListener('click', () => {
        movies.sort((a, b) => parseInt(a.year) - parseInt(b.year)); // Sort movies by year
        displayMovies();
    });
    </script>
</body>
</html>
